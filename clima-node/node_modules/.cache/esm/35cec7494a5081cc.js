let loadJson,saveJSON,chalk;_4a5‍.x([["filterJson",()=>filterJson],["compareData",()=>compareData]]);_4a5‍.w("./jsonCRUD",[["loadJson",["loadJson"],function(v){loadJson=v}],["saveJSON",["saveJSON"],function(v){saveJSON=v}]]);_4a5‍.w("chalk",[["default",["chalk"],function(v){chalk=v}]]);

// I used this code to download and filter
// JSON location
// data into a new new JSON file
const scrubedData = [];
const listOfRepeats = [];

       function filterJson() {
  const newJson = loadJson("clima-node/src/json/openDataSoft.json");
  parseJson(newJson);
  return scrubedData;
  function parseJson(data) {
    // for loop to go through the the entire file and add to the empty arry
    // scrubed data only takes in the long, latitude, zip, and city.
    let c = data;
    c.forEach(longinData);
    function longinData(element, index, array) {
      scrubedData.push([element.fields.longitude, element.fields.latitude, element.fields.zip, element.fields.city]);
    }
  }
}
//This checks if there are any repeats in long and latitude data
       function compareData(jsonArray) {
  jsonArray.forEach(compareLongLang);
  function compareLongLang(element, index, array) {
    let x = jsonArray.length;
    for (x in jsonArray) {
      if (x != index && index > 4 && x > 0) {
        if (jsonArray[x][0] === element[0] && jsonArray[x][1] === element[1]) {
          let s = jsonArray.splice([x], 1);
          listOfRepeats.push(s);
          // then it checks if the city names are the same
        } else if (jsonArray[x][3] === element[3]) {
          let s = jsonArray.splice([x], 1);
          listOfRepeats.push(s);
        }
      }
    }
  }
  _4a5‍.g.console.log(chalk.blue("-"));
  _4a5‍.g.console.log(chalk.blue("--"));
  _4a5‍.g.console.log(chalk.blue("---"));
  _4a5‍.g.console.log("Download + Filtering of location data is ", chalk.green.bold("done."));
  _4a5‍.g.console.log("The amount of repeat locations is: ", listOfRepeats.length);
  _4a5‍.g.console.log("The amount of unique data points: is ", jsonArray.length);
  _4a5‍.g.console.log(chalk.blue("---"));
  _4a5‍.g.console.log(chalk.blue("--"));
  _4a5‍.g.console.log(chalk.blue("-"));
  saveJSON("clima-node/src/json/longLangByCity.json", scrubedData);
  saveJSON("clima-node/src/json/listOfRepeats.json", listOfRepeats);
}
